e-com-shop
==========
Магазин игровой дистрибьюции, реализованный на платформе Node.js.

ТРЕБОВАНИЯ
==========
Для запуска приложения необходимы:
* **Платформа Node.js 16.5.0**
* **СУБД PostgreSQL 12.2**

УСТАНОВКА
=========
**1.** Распаковать папку server в любое место на машине.  
**2.** Создать БД в СУБД PostgreSQL, которая будет использоваться магазином.  
**3.** Настроить конфиг сервера в файле .env.  
* **PORT** - порт, на котором будет запущен сервер. Если не указан, то по умолчанию используется порт 5000.
* **DB_NAME** - имя БД, которая будет использоваться магазином.
* **DB_IP** - адрес БД.
* **DB_PORT** - порт, которые используется БД.
* **DB_USER** - пользователь БД.
* **DB_PASSWORD** - пароль пользователя БД.
* **JWT_SECRET_KEY** - секретный ключ для авторизации пользователя с использованием JWT-токена.
* **ADMIN_PASSWORD** - пароль администратора сервера.
* **ADMIN_EMAIL** - e-mail (логин) администратора сервера.  
**4.** Запустить сервер из командной строки командой "node <путь к файлу server.js>".  

После запуска, сервер автоматически добавит все нужные таблицы в БД, а также создаст профиль администратора, роль пользователя и администратора. Логин и пароль аккаунта администратора указывается в *.env* конфигурационном файле.

ИСПОЛЬЗОВАНИЕ
=============
Для тестирования рекомендуется использовать программу Postman, для отправки различных запросов на сервер.

АВТОРИЗАЦИЯ
===========
На сервере используется авторизация при помощи JWT токена. Его необходимо указывать в подавляющем большинстве запросов (Подробно можно посмотреть в документации).  

При отправке запроса, в Header'е необходимо указать Authorization: Bearer <token>.

РАЗДЕЛЕНИЕ РОЛЕЙ
================
Управление различными объектами возможно только при наличии прав администратора.

БЕЗОПАСНОСТЬ
============
Другие пользователи не могут добавить за вас товары в корзину, а также сделать за вас заказ. Даже администраторы.

HEROKU
======
Приложение развёрнуто на Heroku. Адрес: https://morning-dusk-67922.herokuapp.com/

ДОКУМЕНТАЦИЯ
============
Документация по конечным точкам доступна по пути /api/docs.

СХЕМА БД
========
Схему БД (Все таблицы, атрибуты и отношения между таблицами) можно посмотреть открыв файл **db_relations.drawio** на сайте https://app.diagrams.net/.
